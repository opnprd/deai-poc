var Reporter=function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var n=0;var r=function(t,e,n,r,i,o,s,a,c,d){"boolean"!=typeof s&&(c=a,a=s,s=!1);var p,v="function"==typeof n?n.options:n;if(t&&t.render&&(v.render=t.render,v.staticRenderFns=t.staticRenderFns,v._compiled=!0,i&&(v.functional=!0)),r&&(v._scopeId=r),o?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},v._ssrRegister=p):e&&(p=s?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),p)if(v.functional){var h=v.render;v.render=function(t,e){return p.call(e),h(t,e)}}else{var l=v.beforeCreate;v.beforeCreate=l?[].concat(l,p):[p]}return n};const i={props:["view"],data:function(){return{id:"ref-".concat(n++),map:null,mapView:this.$root.mapViews[this.view]}},mounted:function(){this.map=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.centre,i=t.zoom,o=e.map(n).setView(r,i);return e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o),o}({id:this.id,centre:this.mapView.centre,zoom:this.mapView.zoom})}};var o=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"map",attrs:{id:this.id}})};o._withStripped=!0;const s={props:["title","content"],components:{"report-map":r({render:o,staticRenderFns:[]},void 0,i,void 0,!1,void 0,void 0,void 0)}};var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v(t._s(t.title))]),t._v(" "),t._l(t.content,(function(e,r){return n("div",{key:r},["map"===e.type?n("report-map",{attrs:{view:e.view}}):t._e()],1)}))],2)};a._withStripped=!0;var c=r({render:a,staticRenderFns:[]},void 0,s,void 0,!1,void 0,void 0,void 0);const d={props:["title"]};var p=function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",[this._v(this._s(this.title))])])};p._withStripped=!0;var v=r({render:p,staticRenderFns:[]},void 0,d,void 0,!1,void 0,void 0,void 0);return t.report=function(t){var e=t.element,n=t.reportSpec;fetch(n).then((function(t){return t.json()})).then((function(t){var n=t.title,r=t.sections,i=t.mapViews;new Vue({el:e,data:function(){return{title:n,sections:r,mapViews:i}},components:{"report-header":v,"report-section":c},template:'<article>\n      <report-header :title="title" />\n      <report-section\n        v-for="(section, index) in sections"\n        v-bind="section"\n        :key="index"\n      />\n    </article>'})}))},t}({},L);
