var Reporter=function(t){"use strict";var e=0;var n=function(t,e,n,i,r,o,s,a,c,d){"boolean"!=typeof s&&(c=a,a=s,s=!1);var p,v="function"==typeof n?n.options:n;if(t&&t.render&&(v.render=t.render,v.staticRenderFns=t.staticRenderFns,v._compiled=!0,r&&(v.functional=!0)),i&&(v._scopeId=i),o?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},v._ssrRegister=p):e&&(p=s?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),p)if(v.functional){var h=v.render;v.render=function(t,e){return p.call(e),h(t,e)}}else{var l=v.beforeCreate;v.beforeCreate=l?[].concat(l,p):[p]}return n};const i={props:["view"],data:function(){return{id:"ref-".concat(e++),map:null,mapView:this.$root.mapViews[this.view]}},mounted:function(){this.map=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.centre,i=t.zoom,r=L.map(e).setView(n,i);return L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r),r}({id:this.id,centre:this.mapView.centre,zoom:this.mapView.zoom})}};var r=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"map",attrs:{id:this.id}})};r._withStripped=!0;const o={props:["title","content"],components:{"report-map":n({render:r,staticRenderFns:[]},void 0,i,void 0,!1,void 0,void 0,void 0)}};var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v(t._s(t.title))]),t._v(" "),t._l(t.content,(function(e,i){return n("div",{key:i},["map"===e.type?n("report-map",{attrs:{view:e.view}}):t._e()],1)}))],2)};s._withStripped=!0;var a=n({render:s,staticRenderFns:[]},void 0,o,void 0,!1,void 0,void 0,void 0);const c={props:["title"]};var d=function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",[this._v(this._s(this.title))])])};d._withStripped=!0;var p=n({render:d,staticRenderFns:[]},void 0,c,void 0,!1,void 0,void 0,void 0);return t.report=function(t){var e=t.element,n=t.reportSpec;fetch(n).then((function(t){return t.json()})).then((function(t){var n=t.title,i=t.sections,r=t.mapViews;new Vue({el:e,data:function(){return{title:n,sections:i,mapViews:r}},components:{"report-header":p,"report-section":a},template:'<article>\n      <report-header :title="title" />\n      <report-section\n        v-for="(section, index) in sections"\n        v-bind="section"\n        :key="index"\n      />\n    </article>'})}))},t}({});
