var Reporter=function(t,e,r){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r;var n=0;var i=function(t,e,r,n,i,o,s,a,c,d){"boolean"!=typeof s&&(c=a,a=s,s=!1);var p,v="function"==typeof r?r.options:r;if(t&&t.render&&(v.render=t.render,v.staticRenderFns=t.staticRenderFns,v._compiled=!0,i&&(v.functional=!0)),n&&(v._scopeId=n),o?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},v._ssrRegister=p):e&&(p=s?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),p)if(v.functional){var u=v.render;v.render=function(t,e){return p.call(e),u(t,e)}}else{var h=v.beforeCreate;v.beforeCreate=h?[].concat(h,p):[p]}return r};const o={props:["view"],data:function(){return{id:"ref-".concat(n++),map:null,mapView:this.$root.mapViews[this.view]}},mounted:function(){this.map=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.centre,i=t.zoom,o=r.map(e).setView(n,i);return r.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o),o}({id:this.id,centre:this.mapView.centre,zoom:this.mapView.zoom})}};var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"map",attrs:{id:this.id}})};s._withStripped=!0;const a={props:["title","content"],components:{"report-map":i({render:s,staticRenderFns:[]},void 0,o,void 0,!1,void 0,void 0,void 0)}};var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("h1",[t._v(t._s(t.title))]),t._v(" "),t._l(t.content,(function(e,n){return r("div",{key:n},["map"===e.type?r("report-map",{attrs:{view:e.view}}):t._e()],1)}))],2)};c._withStripped=!0;var d=i({render:c,staticRenderFns:[]},void 0,a,void 0,!1,void 0,void 0,void 0);const p={props:["title"]};var v=function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",[this._v(this._s(this.title))])])};v._withStripped=!0;const u={props:["title","sections"],components:{"report-header":i({render:v,staticRenderFns:[]},void 0,p,void 0,!1,void 0,void 0,void 0),"report-section":d}};var h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",[r("report-header",{attrs:{title:t.title}}),t._v(" "),t._l(t.sections,(function(e,n){return r("report-section",t._b({key:n},"report-section",e,!1))}))],2)};h._withStripped=!0;var l=i({render:h,staticRenderFns:[]},void 0,u,void 0,!1,void 0,void 0,void 0);return t.report=function(t){var r=t.element,n=t.reportSpec;fetch(n).then((function(t){return t.json()})).then((function(t){var n=t.title,i=t.sections,o=t.mapViews;new e({el:r,components:{"es-report":l},data:function(){return{mapViews:o}},render:function(t){return t("es-report",{props:{title:n,sections:i}})}})}))},t}({},Vue,L);
